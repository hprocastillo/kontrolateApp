<!-- EXPENSE -->
<div class="row">
  <div class="col-12">
    <h5 class="font-weight-bold mt-2">MODIFICAR GASTO</h5>
    <br>

    <form #editForm (ngSubmit)="getSave(expenseId, out)">

      <div class="form-row">
        <div class="col-3">
          <label for="txtDescription">Gasto:</label>
        </div>
        <div class="col-9">
          <input
            [(ngModel)]="expense.description"
            class="form-control"
            id="txtDescription"
            name="description"
            type="text"
          >
        </div>
      </div>
      <br>

      <div class="form-row">
        <div class="col-3">
          <label for="txtAmount">Monto:</label>
        </div>
        <div class="col-9">
          <input
            [(ngModel)]="expense.amount"
            class="form-control"
            id="txtAmount"
            name="amount"
            type="number"
          >
        </div>
      </div>
      <hr>

      <div class="form-row">
        <div class="col-12">
          Recibo:
        </div>
      </div>
      <br>

      <div class="form-row">
        <div class="col-6 text-center">

          <ng-container *ngIf="imagePreviewURL; else noPreview">
            <img [src]="imagePreviewURL" alt="" class="image-preview">
          </ng-container>

          <ng-template #noPreview>
            <ng-container *ngIf="expense.receiptUrl; else noReceipt">
              <img [src]="[expense.receiptUrl]" alt="" class="image-preview">
            </ng-container>

            <ng-template #noReceipt>
              <img alt="" class="image-preview" src="./assets/images/dashboard/receipt.png">
            </ng-template>
          </ng-template>


        </div>
        <div class="col-4 offset-1 text-center">
          <label class="btn btn-secondary btn-block pt-4 pb-4">
            <input (change)="getPhoto($event)" accept="image/*" type="file">
            <svg class="bi bi-camera-fill" fill="currentColor" height="32" viewBox="0 0 16 16"
                 width="32"
                 xmlns="http://www.w3.org/2000/svg">
              <path d="M10.5 8.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z"/>
              <path
                d="M2 4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-1.172a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 9.172 2H6.828a2 2 0 0 0-1.414.586l-.828.828A2 2 0 0 1 3.172 4H2zm.5 2a.5.5 0 1 1 0-1 .5.5 0 0 1 0 1zm9 2.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0z"/>
            </svg>
          </label>

          <ng-container *ngIf="uploadPercent | async as percent">
            <div class="progress">
              <div aria-valuemax="100" aria-valuemin="0" aria-valuenow="25" class="progress-bar"
                   role="progressbar" style="width:{{percent}}%;">{{ uploadPercent | async }}</div>
            </div>
          </ng-container>

        </div>
      </div>

    </form>
  </div>
</div>
<br>
<br>
<br>
<!-- NEW EXPENSE FORM -->
<div class="fixed-bottom bg-dark p-3">
  <app-edit-expense
    (btnBack)="getBack(this.outId)"
    (btnSave)="getBtnSave($event)">
  </app-edit-expense>
</div>
